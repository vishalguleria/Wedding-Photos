# Wedding Photo Finder (Browser-side face recognition)

This package contains a ready-to-deploy static website that lets guests scan a single QR, take a selfie, and view only the wedding photos that include them. Recognition happens entirely in the guest's browser (no paid APIs).

## What's included
- `index.html` — main web app (uses face-api.js). It will:
  - load `images.json` (list of full image URLs)
  - prefer `descriptors.json` if present (precomputed descriptors) to skip in-browser computation
  - otherwise compute descriptors in browser and cache them in `localStorage`
- `make_images_json.py` — helper to create `images.json` from local `images/` folder (edit BASE_URL).
- `precompute_descriptors.py` — optional script to precompute descriptors locally using `face_recognition` (dlib) and produce `descriptors.json`. Run locally, then upload the resulting `descriptors.json` to your repo root (edit URLs as necessary).
- `README.md` — this file.

## Steps to deploy (GitHub Pages)
1. Create a GitHub repo (public) — example: `wedding-photos`.
2. Add folders/files:
   - `images/` — upload all your wedding photos (rename to simple names `001.jpg`, `002.jpg`, ...)
   - `models/` — download and upload face-api.js models (see below)
   - `index.html` — from this package
   - `images.json` — generated by `make_images_json.py` (or hand-edit)
   - optionally `descriptors.json` — precomputed descriptors (see below)
3. Turn on GitHub Pages (Settings → Pages → main branch → root).
4. Your site will be at `https://<username>.github.io/<repo>/`. Use that URL for the QR code.

## Getting face-api.js models
Download the necessary models (recommended tiny detector) from the face-api.js repo or hosted sources:

Required model files (place in `/models/`):
- `tiny_face_detector_model-weights_manifest.json` and the associated `.bin` files
- `face_landmark_68_model-weights_manifest.json` and `.bin`
- `face_recognition_model-weights_manifest.json` and `.bin`

You can find them in face-api.js releases or various mirrors (search "face-api models"). Upload them into the `models/` folder in your repo so they are served from `/models/...`.

## images.json format
`images.json` should be a JSON array of image URLs, e.g.:
[
  "https://raw.githubusercontent.com/you/yourrepo/main/images/001.jpg",
  "https://raw.githubusercontent.com/you/yourrepo/main/images/002.jpg"
]

Generate it using `make_images_json.py` (edit BASE_URL) or create manually.

## descriptors.json (optional, recommended for many photos)
If you have many photos, precomputing descriptors locally and uploading `descriptors.json` speeds up the site. Use `precompute_descriptors.py` (requires face_recognition/dlib). After running, edit the `url` fields to be full hosted URLs (raw.githubusercontent.com links) before uploading `descriptors.json` to repo root.

## Privacy & Notes
- Photos are publicly accessible if your repo is public. Use an unguessable repo name or add a simple password gate in the HTML if you need a basic barrier.
- Face recognition happens client-side — descriptors are computed in guests' browsers unless you upload `descriptors.json`.
- For large numbers of images, prefer precomputing descriptors.

## Need help?
Tell me if you want:
- I can produce a version of `index.html` that adds a simple password gate.
- Or I can produce the Python script to convert local `descriptors.json` entries to full raw URLs automatically.
